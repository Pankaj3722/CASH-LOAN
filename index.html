<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>LOAN PAY — Apply fast</title>

  <!-- MAIN ICON -->
  <link rel="icon" href="icons/file_0000000043a872078e5b55921c7e8ad.png" />
  <link rel="apple-touch-icon" href="icons/file_0000000043a872078e5b55921c7e8ad.png" />

  <!-- MANIFEST -->
  <link rel="manifest" href="manifest.json" />

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css" />
  <meta name="theme-color" content="#0b5eff" />
</head>

<body class="page">

<header class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <img src="icons/file_0000000043a872078e5b55921c7e8ad.png" alt="Loan Pay" class="brand-icon"/>
      <div>
        <h1 class="brand-title">LOAN PAY</h1>
        <div class="brand-sub">Fast • Simple • Safe</div>
      </div>
    </div>

    <nav class="top-actions">
      <button id="installBtn" class="btn ghost" hidden>Install</button>
    </nav>
  </div>
</header>

<main class="container">

<section class="hero card">
  <h2>Apply for loan in 60 seconds</h2>
  <p class="muted">Small loans, simple process. EMI estimate instantly — no signup.</p>

  <div class="hero-grid">
    <div>
      <label class="label">Loan amount (₹)</label>
      <input id="heroAmount" type="number" value="10000" />
    </div>
    <div>
      <label class="label">Tenure (months)</label>
      <input id="heroTenure" type="number" value="12" />
    </div>
    <div>
      <label class="label">Interest %</label>
      <input id="heroInterest" type="number" value="12" />
    </div>
    <div class="hero-actions">
      <button id="heroCalc" class="btn primary">Estimate EMI</button>
    </div>
  </div>

  <div id="heroResult" class="result"></div>
</section>

<section id="signupSection" class="card compact">
  <h3>Signup</h3>
  <div class="row">
    <input id="emailInput" placeholder="Email (optional)" />
    <button id="signupBtn" class="btn">Continue</button>
  </div>
</section>

<section id="applySection" class="card hidden">
  <h3>Apply for Loan</h3>
  <div class="form-grid">
    <div><label class="label">Full name</label><input id="name" /></div>
    <div><label class="label">Phone</label><input id="phone" /></div>
    <div><label class="label">Amount (₹)</label><input id="amount" type="number" /></div>
    <div><label class="label">Tenure (months)</label><input id="tenure" type="number" /></div>
    <div><label class="label">Interest %</label><input id="interest" type="number" /></div>
    <div><label class="label">Purpose</label><input id="purpose" /></div>
  </div>
  <button id="applyBtn" class="btn primary">Submit Application</button>
</section>

<footer class="footer">
  <div>Contact: <a href="mailto:contact@example.com">contact@example.com</a></div>
</footer>

</main>

<script src="app.js"></script>

<script>
// Install button
let deferredPrompt;
const installBtn = document.getElementById('installBtn');
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.hidden = false;
});
installBtn.addEventListener('click', async () => {
  if (!deferredPrompt) return;
  deferredPrompt.prompt();
  await deferredPrompt.userChoice;
  deferredPrompt = null;
  installBtn.hidden = true;
});

// EMI Calculator
document.getElementById('heroCalc').onclick = () => {
  const A = Number(heroAmount.value);
  const n = Number(heroTenure.value);
  const r = Number(heroInterest.value) / 100 / 12;
  const m = (A*r)/(1-Math.pow(1+r,-n));
  heroResult.innerHTML = `<strong>EMI:</strong> ₹ ${m.toFixed(2)}`;
};
</script>

</body>
</html>
